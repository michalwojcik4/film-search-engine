{"version":3,"file":"static/js/76.e3c0841b.chunk.js","mappings":"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","sources":["api/api.js","webpack://goit-react-hw-05-movies/./src/components/SearchTerm/SearchTerm.module.css?262b","components/SearchTerm/SearchTerm.jsx","webpack://goit-react-hw-05-movies/./src/components/Movies/Movies.module.css?9f30","components/Movies/Movies.jsx","webpack://goit-react-hw-05-movies/./src/components/MovieItem/MovieItem.module.css?431a","components/MovieItem/MovieItem.jsx","webpack://goit-react-hw-05-movies/./src/components/MoviesList/MovieList.module.css?dfe6","components/MoviesList/MoviesList.jsx"],"sourcesContent":["import axios from 'axios';\n\nconst API_KEY = process.env.REACT_APP_API_KEY;\nconst BASE_URL = 'https://api.themoviedb.org/3';\n\nexport const getTrendingMovies = async (page) => {\n  try {\n    const response = await axios.get(`${BASE_URL}/trending/movie/day?api_key=${API_KEY}&page=${page}`);\n    return response.data;\n  } catch (error) {\n    throw error;\n  }\n};\n\nexport const searchMovies = async (query, page) => {\n  try {\n    const response = await axios.get(\n      `${BASE_URL}/search/movie?api_key=${API_KEY}&query=${query}&page=${page}`\n    );\n    return response.data;\n  } catch (error) {\n    console.error(error);\n  }\n};\n\nexport const getMovieDetails = async (movieId) => {\n  try {\n    const response = await axios.get(`${BASE_URL}/movie/${movieId}?api_key=${API_KEY}`);\n    return response.data;\n  } catch (error) {\n    console.error(error);\n  }\n};\n\nexport const getMovieCast = async (movieId) => {\n  try {\n    const response = await axios.get(`${BASE_URL}/movie/${movieId}/credits?api_key=${API_KEY}`);\n    return response.data;\n  } catch (error) {\n    console.error(error);\n  }\n};\n\nexport const getMovieReviews = async (movieId) => {\n  try {\n    const response = await axios.get(`${BASE_URL}/movie/${movieId}/reviews?api_key=${API_KEY}`);\n    return response.data;\n  } catch (error) {\n    console.error(error);\n  }\n};","// extracted by mini-css-extract-plugin\nexport default {\"form\":\"SearchTerm_form__VTBd0\",\"form__button\":\"SearchTerm_form__button__Er2pJ\",\"form__input\":\"SearchTerm_form__input__AoIjH\"};","import { useContext } from 'react';\nimport { TermContext } from '../Movies/Movies';\n\nimport css from './SearchTerm.module.css';\n\nexport function SearchTerm() {\n  const { handleSearch, searchTerm, setSearchTerm } = useContext(TermContext);\n  return (\n    <form onSubmit={handleSearch} className={css.form}>\n      <button type=\"submit\" className={css.form__button}>Search</button>\n      <input\n      className={css.form__input}\n        type=\"text\"\n        autoComplete=\"off\"\n        autoFocus\n        placeholder=\"Search for a movie...\"\n        value={searchTerm}\n        onChange={e => setSearchTerm(e.target.value)}\n      />\n    </form>\n  );\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"conteiner\":\"Movies_conteiner__cFPtt\"};","import React, { createContext, useState, useEffect } from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport InfiniteScroll from 'react-infinite-scroll-component';\n\nimport { searchMovies } from '../../api/api';\nimport { MoviesList } from 'components/MoviesList/MoviesList';\nimport { SearchTerm } from 'components/SearchTerm/SearchTerm';\nimport { Loader } from 'components/Loader/Loader';\n\nimport css from './Movies.module.css';\n\nexport const TermContext = createContext();\n\nconst Movies = () => {\n  const [searchResults, setSearchResults] = useState([]);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [page, setPage] = useState(1);\n  const [searchParams, setSearchParams] = useSearchParams();\n  const query = searchParams.get('query');\n\n  const removeDuplicatesById = (data, key) => {\n    return [...new Map(data.map(x => [key(x), x])).values()];\n  };\n\n  const handleSearch = e => {\n    e.preventDefault();\n    if (searchTerm === '') return;\n    setSearchParams({ query: searchTerm });\n  };\n\n  useEffect(() => {\n    if (!query) return;\n    searchMovies(query, page).then(data => {\n      setSearchResults(prevData =>\n        removeDuplicatesById([...prevData, ...data.results], item => item.id)\n      );\n    });\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [query, page]);\n\n  const loadMore = () => {\n    setPage(page + 1);\n  };\n\n  return (\n    <InfiniteScroll\n      className={css.conteiner}\n      dataLength={searchResults.length}\n      next={() => loadMore()}\n      hasMore={true}\n      loader={<Loader />}\n    >\n      <TermContext.Provider\n        value={{\n          searchTerm,\n          setSearchTerm,\n          handleSearch,\n        }}\n      >\n        <SearchTerm />\n      </TermContext.Provider>\n      {searchResults && <MoviesList data={searchResults} />}\n    </InfiniteScroll>\n  );\n};\n\nexport default Movies;\n","// extracted by mini-css-extract-plugin\nexport default {\"list__item\":\"MovieItem_list__item__lJnUf\",\"list__img\":\"MovieItem_list__img__sHp37\",\"list__noimg\":\"MovieItem_list__noimg__pvlMF\"};","import { NavLink, useLocation } from 'react-router-dom';\n\nimport css from './MovieItem.module.css';\n\nexport const MovieItem = ({ movie }) => {\n  const urlImage = `https://image.tmdb.org/t/p/w500${movie.poster_path}`;\n  const location = useLocation();\n\n  return (\n    <NavLink to={`/movies/${movie.id}`} state={{ from: location }}>\n      <li className={css.list__item}>\n        {movie.poster_path ? (\n          <img className={css.list__img} src={urlImage} alt={movie.title} />\n        ) : (\n          <div className={css.list__noimg}>\n            <p>No Image</p>\n          </div>\n        )}\n      </li>\n    </NavLink>\n  );\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"list\":\"MovieList_list__MPHyX\"};","import { MovieItem } from 'components/MovieItem/MovieItem';\n\nimport css from './MovieList.module.css';\n\nexport function MoviesList({ data }) {\n  return (\n    <ul className={css.list}>\n      {data.map(movie => (\n        <MovieItem movie={movie} key={movie.id} />\n      ))}\n    </ul>\n  );\n}\n"],"names":["API_KEY","process","BASE_URL","getTrendingMovies","_ref","_asyncToGenerator","_regeneratorRuntime","_callee","page","response","_context","prev","next","axios","concat","sent","abrupt","data","t0","stop","_x","apply","arguments","searchMovies","_ref2","_callee2","query","_context2","console","error","_x2","_x3","SearchTerm","_useContext","useContext","TermContext","handleSearch","searchTerm","setSearchTerm","_jsxs","onSubmit","className","css","children","_jsx","type","autoComplete","autoFocus","placeholder","value","onChange","e","target","createContext","_useState","useState","_useState2","_slicedToArray","searchResults","setSearchResults","_useState3","_useState4","_useState5","_useState6","setPage","_useSearchParams","useSearchParams","_useSearchParams2","searchParams","setSearchParams","get","useEffect","then","prevData","key","_toConsumableArray","Map","map","x","values","removeDuplicatesById","results","item","id","InfiniteScroll","dataLength","length","hasMore","loader","Loader","Provider","preventDefault","MoviesList","MovieItem","movie","urlImage","poster_path","location","useLocation","NavLink","to","state","from","src","alt","title"],"sourceRoot":""}