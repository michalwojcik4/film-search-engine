{"version":3,"file":"static/js/367.e2219477.chunk.js","mappings":"yNAwCA,UAhCa,WACX,IAAAA,GAA4CC,EAAAA,EAAAA,UAAS,IAAGC,GAAAC,EAAAA,EAAAA,GAAAH,EAAA,GAAjDI,EAAcF,EAAA,GAAEG,EAAiBH,EAAA,GACxCI,GAAwBL,EAAAA,EAAAA,UAAS,GAAEM,GAAAJ,EAAAA,EAAAA,GAAAG,EAAA,GAA5BE,EAAID,EAAA,GAAEE,EAAOF,EAAA,IAMpBG,EAAAA,EAAAA,YAAU,YACRC,EAAAA,EAAAA,IAAkBH,GAAMI,MAAK,SAAAC,GAC3BR,GAAkB,SAAAS,GAAQ,OAND,SAACD,EAAME,GAClC,OAAAC,EAAAA,EAAAA,GAAW,IAAIC,IAAIJ,EAAKK,KAAI,SAAAC,GAAC,MAAI,CAACJ,EAAII,GAAIA,EAAE,KAAGC,SACjD,CAKMC,CAAqB,GAADC,QAAAN,EAAAA,EAAAA,GAAKF,IAAQE,EAAAA,EAAAA,GAAKH,EAAKU,WAAU,SAAAC,GAAI,OAAIA,EAAKC,EAAE,GAAC,GAEzE,GACF,GAAG,CAACjB,IAMJ,OACEkB,EAAAA,EAAAA,KAACC,EAAAA,EAAc,CACbC,WAAYxB,EAAeyB,OAC3BC,KAAM,WANRrB,EAAQD,EAAO,EAMS,EACtBuB,SAAS,EACTC,QAAQN,EAAAA,EAAAA,KAACO,EAAAA,EAAM,IAAIC,UAEnBR,EAAAA,EAAAA,KAACS,EAAAA,EAAU,CAACtB,KAAMT,KAGxB,C","sources":["components/Home/Home.jsx"],"sourcesContent":["import { useState, useEffect } from 'react';\n\nimport InfiniteScroll from 'react-infinite-scroll-component';\n\nimport { getTrendingMovies } from '../../api/api';\nimport { MoviesList } from 'components/MoviesList/MoviesList';\nimport { Loader } from 'components/Loader/Loader';\n\nconst Home = () => {\n  const [trendingMovies, setTrendingMovies] = useState([]);\n  const [page, setPage] = useState(1);\n\n  const removeDuplicatesById = (data, key) => {\n    return [...new Map(data.map(x => [key(x), x])).values()];\n  };\n\n  useEffect(() => {\n    getTrendingMovies(page).then(data => {\n      setTrendingMovies(prevData =>\n        removeDuplicatesById([...prevData, ...data.results], item => item.id)\n      );\n    });\n  }, [page]);\n\n  const loadMore = () => {\n    setPage(page + 1);\n  };\n\n  return (\n    <InfiniteScroll\n      dataLength={trendingMovies.length}\n      next={() => loadMore()}\n      hasMore={true}\n      loader={<Loader />}\n    >\n      <MoviesList data={trendingMovies} />\n    </InfiniteScroll>\n  );\n};\n\nexport default Home;\n"],"names":["_useState","useState","_useState2","_slicedToArray","trendingMovies","setTrendingMovies","_useState3","_useState4","page","setPage","useEffect","getTrendingMovies","then","data","prevData","key","_toConsumableArray","Map","map","x","values","removeDuplicatesById","concat","results","item","id","_jsx","InfiniteScroll","dataLength","length","next","hasMore","loader","Loader","children","MoviesList"],"sourceRoot":""}